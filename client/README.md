# 文生图功能使用说明

## 🚀 快速开始

### 1. 启动开发服务器
```bash
cd client
npm install
npm run dev
```

### 2. 访问页面
打开浏览器访问：`https://yuri.localhost.com/text-to-image.html`

## 📋 功能说明

### 基本使用流程（新版，两步式）

#### Step Ⅰ：根据小说生成Prompt（可选）
1. 上传小说：在“小说文本文件”上传 `.txt`，大小不超过 5MB。
2. 输入主题：在“主题/图像需求”输入你想要的生成主题/画面要点。
3. 生成 Prompt：点击“生成 Prompt”，AI 会从小说里提取相关内容并生成可复用的 Prompt。
4. 复制或编辑：生成的 Prompt 会显示在上方“生成的 Prompt”输入框，同时自动同步到下方“用于生成图片的 Prompt”，你可以复制或继续微调。

提示：如果不上传小说，直接跳过本步骤，手动在下方填写 Prompt 即可。

#### Step Ⅱ：生成图片
1. 填写 Prompt：在“用于生成图片的 Prompt”输入/确认最终 Prompt。
2. 参考图（可选）：选择本地图片，系统会自动上传并作为参考图。
3. 选择尺寸：1K / 2K / 4K。
4. 点击“生成图像”：等待 10-30 秒，查看结果；可下载或复制图片链接。

### 高级功能

#### 图片操作
- **下载图片**：点击"📥 下载图片"按钮保存到本地
- **复制链接**：点击"📋 复制链接"按钮复制图片URL
- **全屏查看**：点击生成的图片在新标签页中查看

#### 快捷键
- `Ctrl + Enter`（Windows）或 `Cmd + Enter`（Mac）：快速生成图像

#### 实时验证
- 输入时自动验证文字描述长度
- 检查图片URL格式是否正确
- 实时显示错误提示

## 🎨 使用技巧

### Prompt 编写建议
1. **具体描述**：使用具体的形容词和名词
   - 好：一只橙色的短毛猫坐在绿色的草地上
   - 差：一只猫

2. **添加细节**：描述光照、颜色、材质等
   - 好：夕阳西下，金色阳光洒在古老的石桥上
   - 差：一座桥

3. **指定风格**：可以指定艺术风格
   - 例如："梵高风格的向日葵"、"水彩画风格的风景"

### 参考图片使用
1. **选择高质量图片**：清晰、光线好的图片效果更好
2. **图片内容相关**：参考图片应该与文字描述相关
3. **避免版权问题**：使用自己拍摄或免费图片

## 🔧 技术特性

### 响应式设计
- 自动适配桌面和移动设备
- 触摸友好的操作界面
- 优化的移动端体验

### 错误处理
- 网络错误自动重试
- 友好的错误提示
- 详细的调试信息

### 性能优化
- 图片懒加载
- 防抖输入验证
- 内存使用优化

## 📱 移动端使用

### 触摸操作
- 点击输入框自动聚焦
- 长按图片可保存到相册
- 滑动查看大图

### 网络优化
- 自动检测网络状态
- 低网络环境下的优化
- 图片压缩传输

## ❓ 常见问题

### Q: 生成失败怎么办？
A: 检查以下几点：
- 网络连接是否正常
- 文字描述是否过于简单
- 参考图片URL是否有效
- 尝试刷新页面重新生成

### Q: 生成的图片质量不好？
A: 尝试以下方法：
- 使用更详细的文字描述
- 选择更高的图像尺寸
- 添加高质量的参考图片
- 避免过于复杂的场景描述

### Q: 下载图片失败？
A: 可能的原因：
- 浏览器阻止了下载
- 图片URL已过期
- 网络连接问题

### Q: 如何获得更好的效果？
A: 建议：
- 使用具体、详细的描述
- 添加艺术风格关键词
- 选择合适的参考图片
- 多次尝试不同的描述

## 🆘 技术支持

如果遇到问题，可以：
1. 查看浏览器控制台的错误信息
2. 检查网络连接状态
3. 尝试刷新页面
4. 联系技术支持

## 📝 更新日志

### v1.0.0 (2025-10-05)
- 初始版本发布
- 支持基本的文生图功能
- 添加图片下载和复制功能
- 实现响应式设计
- 支持参考图片功能
