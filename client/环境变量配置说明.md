# 环境变量配置说明

## 🚨 重要安全提醒

**请立即更换已泄露的API密钥！**

由于API密钥已经提交到GitHub，为了安全起见，请立即：

1. 在对应的API服务商处重新生成新的API密钥
2. 更新本地环境变量配置
3. 如果可能，撤销已泄露的密钥

## 📋 配置步骤

### 1. 创建环境变量文件

在 `client` 目录下创建 `.env` 文件：

```bash
# 复制示例文件
cp env.example .env
```

### 2. 配置API密钥

编辑 `.env` 文件，填入真实的API密钥：

```env
# 其他配置（通常不需要修改）
VITE_DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com/api/v3/images/generations
VITE_DEEPSEEK_BASE_URL=https://api.deepseek.com/chat/completions
VITE_DOUBAO_MODEL=doubao-seedream-4-0-250828
VITE_DEEPSEEK_MODEL=deepseek-chat
```

### 3. 验证配置

启动开发服务器，检查控制台是否有API密钥未配置的警告：

```bash
npm run dev
```

## 🔒 安全最佳实践

### 1. 永远不要提交API密钥
- `.env` 文件已添加到 `.gitignore`
- 只提交 `env.example` 作为模板
- 使用占位符而不是真实密钥

### 2. 定期轮换密钥
- 建议每3-6个月更换一次API密钥
- 发现泄露立即更换
- 监控API使用情况

### 3. 环境隔离
- 开发环境使用测试密钥
- 生产环境使用正式密钥
- 不同环境使用不同的配置文件

## 🛠️ 故障排除

### 问题1：API密钥未生效
**解决方案：**
1. 确认 `.env` 文件在 `client` 目录下
2. 重启开发服务器
3. 检查环境变量名称是否正确（必须以 `VITE_` 开头）

### 问题2：API调用失败
**解决方案：**
1. 检查API密钥是否正确
2. 确认API服务商账户状态
3. 查看浏览器控制台错误信息

### 问题3：环境变量不生效
**解决方案：**
1. 确认文件名为 `.env`（注意前面的点）
2. 重启开发服务器
3. 清除浏览器缓存

## 📝 环境变量说明

| 变量名 | 说明 | 默认值 |
|--------|------|--------|
| `VITE_DOUBAO_API_KEY` | 豆包API密钥 | 必填 |
| `VITE_DEEPSEEK_API_KEY` | DeepSeek API密钥 | 必填 |
| `VITE_DOUBAO_BASE_URL` | 豆包API端点 | 默认值 |
| `VITE_DEEPSEEK_BASE_URL` | DeepSeek API端点 | 默认值 |
| `VITE_DOUBAO_MODEL` | 豆包模型名称 | 默认值 |
| `VITE_DEEPSEEK_MODEL` | DeepSeek模型名称 | 默认值 |

## 🚀 部署注意事项

### 生产环境部署
1. 在部署平台设置环境变量
2. 不要将 `.env` 文件上传到生产服务器
3. 使用部署平台的环境变量配置功能

### 常见部署平台配置
- **Vercel**: 在项目设置中添加环境变量
- **Netlify**: 在站点设置中添加环境变量
- **GitHub Pages**: 使用GitHub Secrets

## 📞 技术支持

如果遇到问题，请：
1. 检查本文档的故障排除部分
2. 查看浏览器控制台错误信息
3. 确认API密钥和网络连接
