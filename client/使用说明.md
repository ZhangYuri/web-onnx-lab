# 文生图功能使用说明

## 🚀 快速开始

### 1. 启动开发服务器
```bash
cd client
npm run dev
```

### 2. 访问页面
打开浏览器访问：`http://yuri.localhost.com/text-to-image.html`

## 📋 功能说明

### 基本使用流程

#### 普通文生图
1. **输入文字描述**：在"文字描述"框中输入详细的图像描述
   - 例如："一只可爱的小猫坐在花园里，阳光明媚，细节丰富"
   - 建议描述越详细，生成的图像质量越好

2. **选择图像尺寸**：
   - 1K (1024x1024) - 适合快速预览
   - 2K (2048x2048) - 推荐尺寸，平衡质量和速度
   - 4K (4096x4096) - 最高质量，生成时间较长

3. **添加参考图片（可选）**：
   - 在"参考图片URL"框中输入图片链接
   - 支持常见图片格式：JPG、PNG、WebP等
   - AI将基于参考图片和文字描述生成新图像

4. **生成图像**：
   - 点击"生成图像"按钮
   - 等待AI处理（通常需要10-30秒）
   - 查看生成结果

#### 小说生图（新功能）
1. **上传小说文件**：
   - 点击"小说文本文件"选择txt格式的小说文件
   - 支持最大5MB的txt文件
   - 系统会自动验证文件格式和大小

2. **输入图像需求**：
   - 在"文字描述"框中输入您想要生成的图像主题
   - 例如："我想生成一副献王墓的超写实还原图"
   - AI将从小说中提取相关描述

3. **AI智能分析**：
   - 系统会调用DeepSeek AI分析小说内容
   - 提取与您需求相关的描述性文字
   - 生成详细的图像描述prompt

4. **生成图像**：
   - 使用AI生成的prompt调用豆包文生图接口
   - 生成符合小说场景的高质量图像

### 高级功能

#### 图片操作
- **下载图片**：点击"📥 下载图片"按钮保存到本地
- **复制链接**：点击"📋 复制链接"按钮复制图片URL
- **全屏查看**：点击生成的图片在新标签页中查看

#### 快捷键
- `Ctrl + Enter`（Windows）或 `Cmd + Enter`（Mac）：快速生成图像

#### 实时验证
- 输入时自动验证文字描述长度
- 检查图片URL格式是否正确
- 实时显示错误提示

## 🎨 使用技巧

### 文字描述建议
1. **具体描述**：使用具体的形容词和名词
   - 好：一只橙色的短毛猫坐在绿色的草地上
   - 差：一只猫

2. **添加细节**：描述光照、颜色、材质等
   - 好：夕阳西下，金色阳光洒在古老的石桥上
   - 差：一座桥

3. **指定风格**：可以指定艺术风格
   - 例如："梵高风格的向日葵"、"水彩画风格的风景"

### 参考图片使用
1. **选择高质量图片**：清晰、光线好的图片效果更好
2. **图片内容相关**：参考图片应该与文字描述相关
3. **避免版权问题**：使用自己拍摄或免费图片

## 🔧 技术特性

### 响应式设计
- 自动适配桌面和移动设备
- 触摸友好的操作界面
- 优化的移动端体验

### 错误处理
- 网络错误自动重试
- 友好的错误提示
- 详细的调试信息

### 性能优化
- 图片懒加载
- 防抖输入验证
- 内存使用优化

## 📱 移动端使用

### 触摸操作
- 点击输入框自动聚焦
- 长按图片可保存到相册
- 滑动查看大图

### 网络优化
- 自动检测网络状态
- 低网络环境下的优化
- 图片压缩传输

## ❓ 常见问题

### Q: 生成失败怎么办？
A: 检查以下几点：
- 网络连接是否正常
- 文字描述是否过于简单
- 参考图片URL是否有效
- 尝试刷新页面重新生成

### Q: 生成的图片质量不好？
A: 尝试以下方法：
- 使用更详细的文字描述
- 选择更高的图像尺寸
- 添加高质量的参考图片
- 避免过于复杂的场景描述

### Q: 下载图片失败？
A: 可能的原因：
- 浏览器阻止了下载
- 图片URL已过期
- 网络连接问题

### Q: 如何获得更好的效果？
A: 建议：
- 使用具体、详细的描述
- 添加艺术风格关键词
- 选择合适的参考图片
- 多次尝试不同的描述

## 🆘 技术支持

如果遇到问题，可以：
1. 查看浏览器控制台的错误信息
2. 检查网络连接状态
3. 尝试刷新页面
4. 联系技术支持

## 📝 更新日志

### v1.0.0 (2025-10-05)
- 初始版本发布
- 支持基本的文生图功能
- 添加图片下载和复制功能
- 实现响应式设计
- 支持参考图片功能
